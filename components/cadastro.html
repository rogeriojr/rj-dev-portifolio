<section class="cadastro-section">
  <h2>Cadastrar Novo Projeto</h2>
  <form id="formProjeto">
    <div class="form-group">
      <label>Título: <input type="text" id="titulo" required></label>
    </div>
    <div class="form-group">
      <label>Categoria:
        <select id="categoria" required>
          <option value="desenvolvimento">Desenvolvimento</option>
          <option value="design">Design</option>
        </select>
      </label>
    </div>
    <div class="form-group">
      <label>Descrição: <textarea id="descricao" required></textarea></label>
    </div>
    <div class="form-group">
      <label>Imagem URL: <input type="text" id="imagem" required></label>
    </div>
    <button type="submit">Salvar</button>
    <div id="cadastro-result"></div>
  </form>
</section>

<script type="module">
  import { db } from '/components/firebase-config.js';


  document.getElementById('formProjeto').addEventListener('submit', async (e) => {
    e.preventDefault();

    const projeto = {
      titulo: document.getElementById('titulo').value,
      categoria: document.getElementById('categoria').value,
      descricao: document.getElementById('descricao').value,
      imagem: document.getElementById('imagem').value
    };

    try {
      await db.collection('projetos').add(projeto);
      document.getElementById('cadastro-result').innerHTML =
        '<div class="alert alert-success">Projeto salvo!</div>';
    } catch (error) {
      document.getElementById('cadastro-result').innerHTML =
        `<div class="alert alert-danger">Erro: ${error.message}</div>`;
    }
  });
</script>